{% extends 'base.html' %}
{%block content%}
{% load static %}

 <!-- Hero Section Begin -->
<section class="hero">
    <div class="hero__slider owl-carousel">
        <!-- Slide 1 -->
        <div class="hero__items set-bg" data-setbg="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=1920&q=80">
            <div class="container">
                <div class="row">
                    <div class="col-xl-5 col-lg-7 col-md-8">
                        <div class="hero__text">
                            <h6 style="color:white; font-size:18px; font-weight:800;">Spartans Mobile Service Center</h6>
                            <h2 style="color:white;">Fast & Trusted Mobile Repairs</h2>
                            <p style="color:white;">We fix broken displays, motherboard issues, battery problems, and more. 
                            Professional service with genuine parts and same-day delivery.</p>
                            <a href="/service_type" class="primarys-btn">Book a Repair  <i class="fa fa-arrow-right"></i></a>
                            <div class="hero__social">
                                <a style="color:blue;" href="#"><i class="fa-brands fa-facebook"></i></a>
                                <a style="color:#FF69B4;" href="https://www.instagram.com/spartans_mobiles?igsh=MWgxd3JzbThtbnU4OQ=="><i class="fa-brands fa-instagram"></i></a>
                                <a style="color:blue;" href="#"><i class="fa-brands fa-twitter"></i></a>
                                <a href="#" class="social-youtube"><i class="fa-brands fa-youtube"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 2 -->
       <div class="hero__items set-bg" data-setbg="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?auto=format&fit=crop&w=1920&q=80">
            <div class="container">
                <div class="row">
                    <div class="col-xl-5 col-lg-7 col-md-8">
                        <div class="hero__text">
                            <h6 style="color:white; font-size:18px; font-weight:800;">Mobile Accessories & Products</h6>
                            <h2 style="color:white;">Premium Mobile Accessories Available</h2>
                            <p style="color:white;" >Shop high-quality chargers, earphones, cases, tempered glass, smart gadgets,
                            and more. Best prices with warranty guaranteed.</p>
                            <a href="/shop" class="primarys-btn">Shop Now <i class="fa fa-arrow-right"></i></a>
                            <div class="hero__social">
                               <a style="color:blue;" href="#"><i class="fa-brands fa-facebook"></i></a>
                                <a style="color:#FF69B4;" href="#"><i class="fa-brands fa-instagram"></i></a>
                                <a style="color:blue;" href="#"><i class="fa-brands fa-twitter"></i></a>
                                <a href="#" class="social-youtube"><i class="fa-brands fa-youtube"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>
<!-- Hero Section End -->

<!-- Banner Section Begin -->
<section class="banner spad">
    <div class="container">
        <div class="row">
            <!-- Banner 1: Mobile Repair -->
            <div class="col-lg-7 offset-lg-4">
                <div class="banner__item">
                    <div class="banner__item__pic">
                        <img  src="https://t3.ftcdn.net/jpg/02/40/25/00/240_F_240250083_uv4BiZdDXnE11RxoDm3DoLEaAEs0X28H.jpg" alt="">
                    </div>
                    <div class="banner__item__text">
                        <h2> Mobile Repair Services</h2>
                        <a href="#">Book Now</a>
                    </div>
                </div>
            </div>

            <!-- Banner 2: Accessories -->
            <div class="col-lg-5">
                <div class="banner__item banner__item--middle">
                    <div class="banner__item__pic">
                        <img class="serviceimg" src="https://t3.ftcdn.net/jpg/01/89/82/26/240_F_189822641_jMRbE9jVlBtSWqtDQ0bxfFFOWpKlJxjs.jpg" alt="">
                    </div>
                    <div class="banner__item__text">
                        <h2>Mobile Accessories</h2>
                        <a href="#">Shop Accessories</a>
                    </div>
                </div>
            </div>

            <!-- Banner 3: New Mobile Sales -->
            <div class="col-lg-7">
                <div class="banner__item banner__item--last">
                    <div class="banner__item__pic">
                        <img class="serviceimg" src="https://images.unsplash.com/photo-1557906757-fbb05fc2fcee?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fExhdGVzdCUyMFNtYXJ0cGhvbmVzJTIwJTI2JTIwR2FkZ2V0c3xlbnwwfHwwfHx8MA%3D%3D" alt="">
                    </div>
                    <div class="banner__item__text">
                        <h2>Latest Smartphones & Gadgets</h2>
                        <a href="#">View Products</a>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Banner Section End -->

<!-- Product Section Begin -->
<section class="product spad">
  <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <ul class="filter__controls">
                    <li class="active" data-filter="*">Best Sellers</li>
                    <li data-filter=".new-arrivals">New Arrivals</li>
                    <li data-filter=".hot-sales">Hot Deals</li>
                </ul>
            </div>
        </div>

        <div class="row product__filter">
            {% for product in products %}
            <div class="col-lg-3 col-md-6 col-sm-6 mix {% if product.is_new %}new-arrivals{% elif product.on_sale %}hot-sales{% else %}best-sellers{% endif %}">
                <div class="product__item {% if product.on_sale %}sale{% endif %}">
                    <div class="product__item__pic ">
                        <a href="{% url 'spartans:detail' product.id product.name|slugify %}"><img src="{% if product.main_image %}{{ product.main_image.url }}{% else %}{% static 'images/product/default.jpg' %}{% endif %}"></a>
                        {% if product.is_new %}
                            <span class="label">New</span>
                        {% elif product.on_sale %}
                            <span class="label">Sale</span>
                        {% endif %}
                        <ul class="product__hover">
                            <li><a href="{% url 'spartans:detail' product.id product.name %}"><img  style="width:35px; height: 35px;" src="{% static 'img/heart.png' %}" alt=""></a></li>
                            <li><a href="{% url 'spartans:detail' product.id product.name %}"><svg style="background:white; width:33px; height:33px; padding:2px;" xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="black"><path d="M450-450H200v-60h250v-250h60v250h250v60H510v250h-60v-250Z"/></svg><span>Add To Card</span></a></li>
                        </ul>
                    </div>
                    <div class="product__item__text">
                        <h6>{{ product.name }}</h6>
                        <div class="rating" style="color:#FF9529; font-size:20px;">
                            {% for i in "12345" %}
                                {% if forloop.counter <= product.rating|default:0 %}
                                    ★
                                {% else %}
                                    ☆
                                {% endif %}
                            {% endfor %}
                        </div>
                        <h5>₹{{ product.price }}</h5>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12">
                <p>No products available.</p>
            </div>
            {% endfor %}
        </div>
    </div>

</section>
<!-- Product Section End -->

<!-- Categories Section Begin -->
<section class="categories spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="categories__text">
                    <h2>Mobile Accessories<br /> 
                        <span>Gadgets & Devices</span> <br/> 
                    </h2>
                    <ul style="margin-top:15px; list-style:disc; margin-left:20px;">
                        <li>Headphones</li>
                        <li>Tempered Glass</li>
                        <li>Speakers</li>
                        <li>Bluetooth Headphones</li>
                        <li>Pen Drive</li>
                        <li>Charger</li>
                        <li>Memory Card</li>
                        <li>Airbuds</li>
                    </ul>
                </div>
            </div>

           <div class="col-lg-4">
                <div class="categories__hot__deal">
                    {% if announcement and announcement.product %}
                        <a href="{% url 'spartans:detail' announcement.product.id announcement.product.name|slugify %}">
                            <img src="{% if announcement.product.main_image %}{{ announcement.product.main_image.url }}{% else %}{% static 'images/product-sale.png' %}{% endif %}" alt="">
                        </a>
                        <div class="hot__deal__sticker">
                           <span>Sale Of</span>
                            <h5>₹{{ announcement.product.price }}</h5>
                        </div>
                    {% else %}
                        <img src="{% static 'img/offers.png' %}" alt="">                                        
                        {% if announcement and announcement.product %}
                            <div class="hot__deal__sticker">
                            <span>Sale Of</span>
                                <h5>₹499</h5>
                            </div>
                            {% else %}                                                    
                        {% endif %}
                  
                        
                    {% endif %}
                </div>
            </div>



           <div class="col-lg-4 offset-lg-1">
                <div class="categories__deal__countdown">
                    <span>Deal Of The Week</span>

                    <h2>
                        {% if announcement and announcement.product %}
                            {{ announcement.product.name }}
                        {% else %}
                           Spartans Mobile Offers
                        {% endif %}
                    </h2>

                    <div class="categories__deal__countdown__timer">
                        {% if announcement %}
                            {% with t=announcement.time_remaining %}
                            <div class="cd-item">
                                <span>{{ t.days }}</span>
                                <p>Days</p>
                            </div>
                            <div class="cd-item">
                                <span>{{ t.hours }}</span>
                                <p>Hours</p>
                            </div>
                            <div class="cd-item">
                                <span>{{ t.minutes }}</span>
                                <p>Minutes</p>
                            </div>
                            <div class="cd-item">
                                <span>{{ t.seconds }}</span>
                                <p>Seconds</p>
                            </div>
                            {% endwith %}
                        {% else %}
                            <div class="cd-item"><span>0</span><p>Days</p></div>
                            <div class="cd-item"><span>0</span><p>Hours</p></div>
                            <div class="cd-item"><span>0</span><p>Minutes</p></div>
                            <div class="cd-item"><span>0</span><p>Seconds</p></div>
                        {% endif %}
                    </div>

                    <a href="/shop" class="primary-btn">Shop now</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Categories Section End -->

<!-- Instagram Section Begin -->
<section class="instagram spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="instagram__pic">
                   <div class="instagram__pic__item set-bg" data-setbg="{% static 'images/product/Bluetooth-headset.jpg' %}"></div>
                    <div class="instagram__pic__item set-bg" data-setbg="{% static 'images/product/Bluetooth-Speaker.jpg' %}"></div>
                    <div class="instagram__pic__item set-bg" data-setbg="{% static 'images/product/Fast-Mobile-Charger.avif' %}"></div>
                    <div class="instagram__pic__item set-bg" data-setbg="{% static 'images/product/memorycard.jpg' %}"></div>
                    <div class="instagram__pic__item set-bg" data-setbg="{% static 'images/product/Pen-Drive.jpg' %}"></div>
                    <div class="instagram__pic__item set-bg" data-setbg="{% static 'images/product/Wireless-Airbuds.jpg' %}"></div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="instagram__text">
                    <h2>Instagram</h2>
                    <p>Explore the latest mobile accessories — headphones, chargers, speakers, memory cards, and more.
                    Follow us for daily tech updates and offers.</p>
                    <a href="https://www.instagram.com/spartans_mobiles?igsh=MWgxd3JzbThtbnU4OQ=="><h3>#spartans_mobiles</h3></a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Instagram Section End -->

<!-- Latest Blog Section Begin -->
<section class="latest spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title">
                    <span>Our Services</span>
                    <h2>Mobile Repair & Support</h2>
                </div>
            </div>
        </div>

        <div class="row">
            {% for servicetype in servicetypes %}
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="blog__item">
                    <div class="blog__item__pic set-bg" data-setbg="{% if servicetype.image_url %}{{ servicetype.image_url }}{% else %}{% static 'images/default-service.jpg' %}{% endif %}"></div>
                    <div class="blog__item__text">
                        <span><img src="{% static 'img/calendar.png' %}" alt=""> {{ servicetype.service_type }}</span>
                        <h5>{{ servicetype.service.name }}</h5>
                        <p>{{ servicetype.discription }}</p>
                        <p class="offer">
                            <span style="color:red;" class="offer-text">{{ servicetype.text }}</span>
                        </p>
                        <a href="/service_type">Service Request</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12">
                <p>No services available at the moment.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
<!-- Latest Blog Section End -->




<script>
    function updateCountdown() {
        {% if announcement %}
        const endTime = new Date("{{ announcement.end_time|date:'c' }}").getTime();
        const now = new Date().getTime();
        const timeLeft = endTime - now;
        
        if (timeLeft > 0) {
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
            
            document.querySelector('.cd-item:nth-child(1) span').textContent = days;
            document.querySelector('.cd-item:nth-child(2) span').textContent = hours;
            document.querySelector('.cd-item:nth-child(3) span').textContent = minutes;
            document.querySelector('.cd-item:nth-child(4) span').textContent = seconds;
        } else {
            document.querySelectorAll('.cd-item span').forEach(span => span.textContent = '0');
        }
        {% endif %}
    }

    {% if announcement %}
    setInterval(updateCountdown, 1000);
    updateCountdown();
    {% endif %}
</script>



















{% endblock %}