{%block content%}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spartans mobile- Sign in</title>
<link rel="icon" href="{% static 'img/title-logo.png' %}" type="image/x-icon">
<link rel="stylesheet" href="{% static 'sign_in.css' %}" type="text/css">
<meta name="description" content="A modern password strength meter that provides real-time feedback on password security. Features include strength indicators, password requirements, and security tips.">
<meta name="keywords" content="password strength, security, javascript, web development, password meter, password validation, security tool">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

   
 <main class="card">
   
    <!-- LEFT SECTION -->
    <aside class="card__aside">
      <div class="logo">SP</div>
      <div>
          <div style="font-size:12px;opacity:.95">Welcome to</div>
          <div style="font-weight:700">SPARTANS</div>
        </div>
      <p class="desc">
        Welcome back! Sign in to continue managing customers, orders,
        inventory and more.
      </p>
      <ul style="display:flex;gap:30px;list-style:none;padding:0;">
        <li><a href="/" style="color:white;text-decoration:none;">Home</a></li>
        <li><a href="/about" style="color:white;text-decoration:none;">About</a></li>
        <li><a href="/contact" style="color:white;text-decoration:none;">Contact</a></li>
      </ul>
    </aside>

    <!-- RIGHT SECTION -->
    <section class="card__body">
      <h2>Sign In</h2>
      <p>Enter your email and password to access your SPARTANS account</p>

      <form method="post">
        {% csrf_token %}
        
       <div>
          <label for="fullname">Enter Email</label>
          <input id="fullname" name="fullname" type="text" placeholder="spartans@123gmail.com" required minlength="2" value="{{ request.POST.fullname }}" autocomplete="off"/>
        </div>

        <div>
          <label for="password">Password</label>
          <div class="password-input-container">
            <input style="margin-bottom:8px;" id="password" name="password" type="password" placeholder="••••••••" required autocomplete="off"/>
            <button id="togglePassword" class="toggle-password">
                      <i class="fas fa-eye"></i>
            </button>
          </div>
        </div>

        {% if messages %}
          {% for message in messages %}
            <div class="alert alert-danger">
              <span style="color:red;">{{ message }}</span>
            </div>
          {% endfor %}
        {% endif %}

        <button class="btn" type="submit">Sign In</button>

        <div class="small-center">
          <a href="/forget" class="link">Forgot Password?</a>
        </div>

        <div class="small-center">
          Don’t have an account? 
          <a href="/sign_up" class="link">Create one</a>
        </div>
      </form>
    </section>
  </main>
</body>
</html>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const passwordInput = document.getElementById('password');
        const togglePassword = document.getElementById('togglePassword'); // FIX ADDED

        // Toggle password visibility
        togglePassword.addEventListener('click', (e) => {
            e.preventDefault(); // avoids form submit
            const type = passwordInput.type === 'password' ? 'text' : 'password';
            passwordInput.type = type;

            togglePassword.querySelector('i').classList.toggle('fa-eye');
            togglePassword.querySelector('i').classList.toggle('fa-eye-slash');
        });
    });
  </script>
{% endblock %}